function defineDynamicLayerBeforeInitMap(){require(["esri/layers/DynamicMapServiceLayer"],function(){dojo.declare("HWDynamicLayer",esri.layers.DynamicMapServiceLayer,{constructor:function(a,b){this.getUrlFunction=b.getUrlFunction,this.loaded=!0,this.onLoad(this)},getImageUrl:function(a,b,c,d){try{this.getUrlFunction?d(this.getUrlFunction(a.xmin,a.ymin,a.xmax,a.ymax,b,c)):alert(" not set dynamic layer getUrlFunction ,params:xmin,ymin,xmax,ymax,width,height ! ")}catch(e){this.onError(e)}}})})}